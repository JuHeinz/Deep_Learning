let half_n;

// Create n random x values and their corresponding y values from function y(x) = 0.5*(x+0.8)*(x+1.8)*(x-0.2)*(x-0.3)*(x-1.9)+1
function createData(n) {
    half_n = n / 2;
    const data = []
    for (let index = 0; index < n; index++) {
        // Generates a random x value between -2 and 2
        let x = Math.random() * 4 - 2;
        // generate y values by feeding it into the function
        let y = 0.5 * (x + 0.8) * (x + 1.8) * (x - 0.2) * (x - 0.3) * (x - 1.9) + 1
        // add a new object with x and y values to the array
        data.push({ x: x, y: y })
    }

    return data;
}

// Split into training and test data (50/50)
function getNoiselessData(data) {
    let training = data.slice(0, half_n);
    let test = data.slice(half_n);
    return [training, test]
}

// Split into training and test data and add noise to y values
function getNoisyData(data) {
    let training = data.slice(0, half_n);
    let test = data.slice(half_n);

    // add noise to y values / labels
    let noisy_training = addGaussianNoise(training);
    let noisy_test = addGaussianNoise(test);

    return [noisy_training, noisy_test]
}

// Add noise to y values
function addGaussianNoise(data) {
    // Standard deviation is sqrt(variance)
    const stdDev = Math.sqrt(0.05);
    return data.map(point => {
        // Box-Muller transform for Gaussian noise
        const u = 1 - Math.random();
        const v = Math.random();
        const z = Math.sqrt(-2.0 * Math.log(u)) * Math.cos(2.0 * Math.PI * v);
        const noise = z * stdDev;
        return { x: point.x, y: point.y + noise };
    });
}


const static_noiseless_train = [
    {
        "x": -1.5506243689036046,
        "y": 2.0462985111682235
    },
    {
        "x": -0.4070277487298566,
        "y": 0.7289981998990622
    },
    {
        "x": 1.6018626740312563,
        "y": -1.2229103872374414
    },
    {
        "x": -0.7809835670293124,
        "y": 0.9724542104479891
    },
    {
        "x": -1.2718847856435551,
        "y": 1.9144218376293267
    },
    {
        "x": -0.20591374100276383,
        "y": 0.7952225470210892
    },
    {
        "x": 1.7069615391983883,
        "y": -0.799189544617438
    },
    {
        "x": -0.3178643609850962,
        "y": 0.7464454887752847
    },
    {
        "x": 1.1374428904294565,
        "y": -0.7034945171815454
    },
    {
        "x": 0.965578882095993,
        "y": -0.1624527369815223
    },
    {
        "x": -1.333397444701292,
        "y": 2.0077985885869554
    },
    {
        "x": 0.5780014895385399,
        "y": 0.7723836716164245
    },
    {
        "x": -1.1818121304240075,
        "y": 1.7447122746434904
    },
    {
        "x": -1.8801517007854325,
        "y": 0.2579068008582641
    },
    {
        "x": -0.6090452450092165,
        "y": 0.7901724322519026
    },
    {
        "x": -0.5790887704708836,
        "y": 0.7710273341323107
    },
    {
        "x": 1.4005077833751822,
        "y": -1.3237993443331377
    },
    {
        "x": 0.2465114994243791,
        "y": 1.0044050428914861
    },
    {
        "x": 1.881408545508572,
        "y": 0.7560068077854377
    },
    {
        "x": 1.2692787897598379,
        "y": -1.0758809636506745
    },
    {
        "x": -0.1318842225944037,
        "y": 0.8377066122185785
    },
    {
        "x": -1.3639166060628063,
        "y": 2.0443321263273333
    },
    {
        "x": -0.7433246175379926,
        "y": 0.9221000503092929
    },
    {
        "x": 1.3132579630116776,
        "y": -1.1772117329523142
    },
    {
        "x": -1.024145731555079,
        "y": 1.4121435916291039
    },
    {
        "x": -1.8415057466898954,
        "y": 0.6464456592139176
    },
    {
        "x": -0.03556194736697993,
        "y": 0.8968180729459234
    },
    {
        "x": -0.3006578237105946,
        "y": 0.7522636826332287
    },
    {
        "x": -0.8014804806814775,
        "y": 1.002202675070377
    },
    {
        "x": 1.6483298313457282,
        "y": -1.074646401748896
    },
    {
        "x": 0.5158930141121276,
        "y": 0.8561673936353081
    },
    {
        "x": 1.3585007864856626,
        "y": -1.2635419786054651
    },
    {
        "x": 1.2140038395692994,
        "y": -0.9296715961471509
    },
    {
        "x": 0.11812270232102806,
        "y": 0.9766349398049143
    },
    {
        "x": -1.2922003581747155,
        "y": 1.947805706428229
    },
    {
        "x": -1.8208880608272255,
        "y": 0.8299593082646388
    },
    {
        "x": 0.8293214272296678,
        "y": 0.23603834825309444
    },
    {
        "x": 0.27489042966362565,
        "y": 1.0034078276276228
    },
    {
        "x": 1.0409195369556765,
        "y": -0.39966169145908825
    },
    {
        "x": -1.4733847275172844,
        "y": 2.1008658366848607
    },
    {
        "x": -0.2788283531184441,
        "y": 0.7606234076588385
    },
    {
        "x": 1.6505363877647627,
        "y": -1.0661407160280687
    },
    {
        "x": 1.8662160140796593,
        "y": 0.5690992611078932
    },
    {
        "x": -0.6228516248652873,
        "y": 0.8002515092244484
    },
    {
        "x": 1.3802460674477839,
        "y": -1.2973611914284322
    },
    {
        "x": -0.9755429492702916,
        "y": 1.3120145721050551
    },
    {
        "x": -1.1321793357745897,
        "y": 1.6416784430625158
    },
    {
        "x": -1.4455171955641113,
        "y": 2.09941793112936
    },
    {
        "x": -1.6651330415002277,
        "y": 1.7623176617550316
    },
    {
        "x": -0.384365146970544,
        "y": 0.731236106565607
    }
]

const static_noiseless_test = [
    {
        "x": -0.9468921106827097,
        "y": 1.2550908524235644
    },
    {
        "x": 0.8802573802638758,
        "y": 0.09362728650910634
    },
    {
        "x": 1.041159260218433,
        "y": -0.40042335991312195
    },
    {
        "x": -1.0350569352311618,
        "y": 1.435086373016867
    },
    {
        "x": -0.9951401964346407,
        "y": 1.3519185953661075
    },
    {
        "x": 0.9738477540487516,
        "y": -0.18814286213525255
    },
    {
        "x": -1.804916884049128,
        "y": 0.9613722058305418
    },
    {
        "x": -0.3257199059551463,
        "y": 0.7440295651833495
    },
    {
        "x": 0.5897759253096635,
        "y": 0.7542492466107147
    },
    {
        "x": -0.8813993762104175,
        "y": 1.1328507534912737
    },
    {
        "x": -1.6669778982646197,
        "y": 1.7553372643454948
    },
    {
        "x": -0.26714326082465734,
        "y": 0.765516374610421
    },
    {
        "x": 0.7987100366959963,
        "y": 0.3169321291541778
    },
    {
        "x": 1.9540696758057212,
        "y": 1.810964162369075
    },
    {
        "x": -1.5975578579759313,
        "y": 1.9631101031104243
    },
    {
        "x": 1.4148594108672494,
        "y": -1.339332163735182
    },
    {
        "x": -1.1555762490608386,
        "y": 1.6907586374471197
    },
    {
        "x": 0.5846878475128756,
        "y": 0.7621738245163219
    },
    {
        "x": -0.14309601911176184,
        "y": 0.8309669825176034
    },
    {
        "x": 1.8201771522991756,
        "y": 0.06757393665734857
    },
    {
        "x": -1.7337395779294473,
        "y": 1.4420761600983207
    },
    {
        "x": 1.971262982806362,
        "y": 2.102367498238703
    },
    {
        "x": 0.42647669540265065,
        "y": 0.942371343279611
    },
    {
        "x": 1.5633652236744888,
        "y": -1.3044908254781604
    },
    {
        "x": -1.2565349027165436,
        "y": 1.8877813205883922
    },
    {
        "x": -0.383762991210141,
        "y": 0.7313172308772581
    },
    {
        "x": 1.4637520709855698,
        "y": -1.3701277263126475
    },
    {
        "x": -0.6104989606849096,
        "y": 0.7911962043896879
    },
    {
        "x": 1.9219620195410312,
        "y": 1.3107137873602248
    },
    {
        "x": -1.005499071839501,
        "y": 1.37328321906946
    },
    {
        "x": 1.9376741510801567,
        "y": 1.5485200499130558
    },
    {
        "x": 0.1265455703109577,
        "y": 0.9798330837571505
    },
    {
        "x": 1.6420648639042934,
        "y": -1.0980462483642994
    },
    {
        "x": -0.23290058953815596,
        "y": 0.7813594356910769
    },
    {
        "x": 1.1606175047963245,
        "y": -0.7740874300495495
    },
    {
        "x": 0.7098188813713251,
        "y": 0.5288511078883132
    },
    {
        "x": 0.5329903461284498,
        "y": 0.835088439535125
    },
    {
        "x": -1.3250006954033187,
        "y": 1.996497612050406
    },
    {
        "x": 0.885516258915096,
        "y": 0.07842104929029825
    },
    {
        "x": -0.6286665119925985,
        "y": 0.8047352044192472
    },
    {
        "x": 0.3865268078156032,
        "y": 0.9683138817890715
    },
    {
        "x": 0.9932481961891457,
        "y": -0.24883828329388846
    },
    {
        "x": -0.8841808433335969,
        "y": 1.137787620969876
    },
    {
        "x": 0.9939662355876848,
        "y": -0.25109468690868675
    },
    {
        "x": -1.5104675746937395,
        "y": 2.086253017609721
    },
    {
        "x": -1.5425216005071336,
        "y": 2.056543371235688
    },
    {
        "x": -0.04548573675904022,
        "y": 0.890785877973133
    },
    {
        "x": -0.8733286107107041,
        "y": 1.118665074055542
    },
    {
        "x": -1.6431302356409536,
        "y": 1.8391680909668715
    },
    {
        "x": 1.5958384143854691,
        "y": -1.2380248538414298
    }
]

const static_noisy_train = [
    {
        "x": 1.6018626740312563,
        "y": -1.4256836029304634
    },
    {
        "x": 1.2140038395692994,
        "y": -1.2340610382301036
    },
    {
        "x": -1.6651330415002277,
        "y": 1.8375170944465342
    },
    {
        "x": 0.8293214272296678,
        "y": 0.16661172295666327
    },
    {
        "x": -0.1318842225944037,
        "y": 1.1252236461626264
    },
    {
        "x": -1.2718847856435551,
        "y": 1.5632377642529725
    },
    {
        "x": -0.03556194736697993,
        "y": 0.8259897809556995
    },
    {
        "x": -1.3639166060628063,
        "y": 2.2643016880511047
    },
    {
        "x": -0.9755429492702916,
        "y": 1.0522975408507786
    },
    {
        "x": 0.2465114994243791,
        "y": 1.3712812676344264
    },
    {
        "x": -0.6090452450092165,
        "y": 0.5989960675354454
    },
    {
        "x": -1.8801517007854325,
        "y": 0.15533645559135906
    },
    {
        "x": -1.4455171955641113,
        "y": 2.0066061547523733
    },
    {
        "x": -1.8208880608272255,
        "y": 0.7181500392604101
    },
    {
        "x": -1.4733847275172844,
        "y": 2.409046739784642
    },
    {
        "x": 1.0409195369556765,
        "y": -0.45566002008903017
    },
    {
        "x": 0.11812270232102806,
        "y": 0.7653893506226689
    },
    {
        "x": -0.3006578237105946,
        "y": 0.3290749086058505
    },
    {
        "x": 1.3802460674477839,
        "y": -1.4643701389907497
    },
    {
        "x": -0.5790887704708836,
        "y": 0.9866473385037066
    },
    {
        "x": -0.2788283531184441,
        "y": 1.0378382059018443
    },
    {
        "x": -1.5506243689036046,
        "y": 2.0581293052801968
    },
    {
        "x": 1.1374428904294565,
        "y": -0.9626996520713575
    },
    {
        "x": -0.7809835670293124,
        "y": 0.7960751773575248
    },
    {
        "x": -0.7433246175379926,
        "y": 1.1984256703215799
    },
    {
        "x": 1.3132579630116776,
        "y": -1.1422416366616335
    },
    {
        "x": 0.965578882095993,
        "y": 0.013636073745143473
    },
    {
        "x": 1.7069615391983883,
        "y": -0.7967060188888597
    },
    {
        "x": -0.6228516248652873,
        "y": 0.6316854453169791
    },
    {
        "x": 1.6505363877647627,
        "y": -1.4907309623307938
    },
    {
        "x": -1.333397444701292,
        "y": 1.8201601150040203
    },
    {
        "x": 0.5780014895385399,
        "y": 0.8287285673881468
    },
    {
        "x": -0.8014804806814775,
        "y": 0.837680587504957
    },
    {
        "x": -1.1818121304240075,
        "y": 2.08766896096646
    },
    {
        "x": -0.384365146970544,
        "y": 0.6425214382401554
    },
    {
        "x": 1.8662160140796593,
        "y": 0.6441825183369707
    },
    {
        "x": 0.27489042966362565,
        "y": 1.148724381961842
    },
    {
        "x": -0.4070277487298566,
        "y": 0.5041407470531661
    },
    {
        "x": 1.3585007864856626,
        "y": -0.7800182203877778
    },
    {
        "x": -1.024145731555079,
        "y": 1.3758887367425015
    },
    {
        "x": 1.2692787897598379,
        "y": -1.3530782092903773
    },
    {
        "x": -1.1321793357745897,
        "y": 1.6819691936406391
    },
    {
        "x": -1.2922003581747155,
        "y": 1.8598128652243358
    },
    {
        "x": 1.881408545508572,
        "y": 0.3973914244322861
    },
    {
        "x": -1.8415057466898954,
        "y": 0.6784316868259482
    },
    {
        "x": -0.3178643609850962,
        "y": 0.8768502725618239
    },
    {
        "x": -0.20591374100276383,
        "y": 0.7773160062023852
    },
    {
        "x": 1.4005077833751822,
        "y": -1.182045329915837
    },
    {
        "x": 1.6483298313457282,
        "y": -0.8206615085523712
    },
    {
        "x": 0.5158930141121276,
        "y": 0.906418360944689
    }
]

const static_noisy_test = [
    {
        "x": -0.9468921106827097,
        "y": 1.3775612347347885
    },
    {
        "x": 0.8802573802638758,
        "y": 0.2601594141457756
    },
    {
        "x": 1.041159260218433,
        "y": -0.2932055636282973
    },
    {
        "x": -1.0350569352311618,
        "y": 1.8041833522228563
    },
    {
        "x": -0.9951401964346407,
        "y": 1.2980165558593288
    },
    {
        "x": 0.9738477540487516,
        "y": 0.12729507295782916
    },
    {
        "x": -1.804916884049128,
        "y": 1.015430129682979
    },
    {
        "x": -0.3257199059551463,
        "y": 1.0811045989135362
    },
    {
        "x": 0.5897759253096635,
        "y": 0.20074331145652002
    },
    {
        "x": -0.8813993762104175,
        "y": 0.8733116707652118
    },
    {
        "x": -1.6669778982646197,
        "y": 1.5127987432135128
    },
    {
        "x": -0.26714326082465734,
        "y": 0.6262135490338254
    },
    {
        "x": 0.7987100366959963,
        "y": 0.42908851971399914
    },
    {
        "x": 1.9540696758057212,
        "y": 2.231992042647204
    },
    {
        "x": -1.5975578579759313,
        "y": 2.090657921727109
    },
    {
        "x": 1.4148594108672494,
        "y": -1.351800699869363
    },
    {
        "x": -1.1555762490608386,
        "y": 1.637800198293293
    },
    {
        "x": 0.5846878475128756,
        "y": 0.9562548346184403
    },
    {
        "x": -0.14309601911176184,
        "y": 0.7609816500877127
    },
    {
        "x": 1.8201771522991756,
        "y": -0.4299143330351419
    },
    {
        "x": -1.7337395779294473,
        "y": 1.6825934025155824
    },
    {
        "x": 1.971262982806362,
        "y": 2.1704228679478454
    },
    {
        "x": 0.42647669540265065,
        "y": 1.0746628864203744
    },
    {
        "x": 1.5633652236744888,
        "y": -1.5942820309383618
    },
    {
        "x": -1.2565349027165436,
        "y": 1.8810138962592724
    },
    {
        "x": -0.383762991210141,
        "y": 0.7256278573882674
    },
    {
        "x": 1.4637520709855698,
        "y": -1.579230666525825
    },
    {
        "x": -0.6104989606849096,
        "y": 0.5250930804382288
    },
    {
        "x": 1.9219620195410312,
        "y": 1.033968782370057
    },
    {
        "x": -1.005499071839501,
        "y": 1.558652847568864
    },
    {
        "x": 1.9376741510801567,
        "y": 1.1936167015048915
    },
    {
        "x": 0.1265455703109577,
        "y": 0.7740991216554797
    },
    {
        "x": 1.6420648639042934,
        "y": -1.7766288569725062
    },
    {
        "x": -0.23290058953815596,
        "y": 0.675079626780037
    },
    {
        "x": 1.1606175047963245,
        "y": -0.5596591137478206
    },
    {
        "x": 0.7098188813713251,
        "y": 0.5442682586787945
    },
    {
        "x": 0.5329903461284498,
        "y": 1.01819008938346
    },
    {
        "x": -1.3250006954033187,
        "y": 2.067129892309546
    },
    {
        "x": 0.885516258915096,
        "y": 0.11764710848924938
    },
    {
        "x": -0.6286665119925985,
        "y": 0.9573962474436402
    },
    {
        "x": 0.3865268078156032,
        "y": 0.8422531673899268
    },
    {
        "x": 0.9932481961891457,
        "y": -0.07797499381698236
    },
    {
        "x": -0.8841808433335969,
        "y": 1.0587353361152132
    },
    {
        "x": 0.9939662355876848,
        "y": -0.43352183828849544
    },
    {
        "x": -1.5104675746937395,
        "y": 1.8687248369105405
    },
    {
        "x": -1.5425216005071336,
        "y": 2.471739439427345
    },
    {
        "x": -0.04548573675904022,
        "y": 0.5942047671419162
    },
    {
        "x": -0.8733286107107041,
        "y": 1.1769597936597684
    },
    {
        "x": -1.6431302356409536,
        "y": 1.5262018708000642
    },
    {
        "x": 1.5958384143854691,
        "y": -1.4490561132517756
    }
]
