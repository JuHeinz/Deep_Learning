// Create 100 random x values and their corresponding y values from function y(x) = 0.5*(x+0.8)*(x+1.8)*(x-0.2)*(x-0.3)*(x-1.9)+1
function createData() {
    const data = []
    for (let index = 0; index < 100; index++) {
        // Generates a random x value between -2 and 2
        let x = Math.random() * 4 - 2;
        // generate y values by feeding it into the function
        let y = 0.5 * (x + 0.8) * (x + 1.8) * (x - 0.2) * (x - 0.3) * (x - 1.9) + 1
        // add a new object with x and y values to the array
        data.push({ x: x, y: y })
    }

    return data;
}

// Split into training and test data (50/50)
function getNoiselessData(data) {
    let training = data.slice(0, 50);
    let test = data.slice(50);
    return [training, test]
}

// Split into training and test data and add noise to y values
function getNoisyData(data) {
    let training = data.slice(0, 50);
    let test = data.slice(50);

    // add noise to y values / labels
    let noisy_training = addGaussianNoise(training);
    let noisy_test = addGaussianNoise(test);

    return [noisy_training, noisy_test]
}

// Add noise to y values
function addGaussianNoise(data) {
    // Standard deviation is sqrt(variance)
    const stdDev = Math.sqrt(0.05);
    return data.map(point => {
        // Box-Muller transform for Gaussian noise
        const u = 1 - Math.random();
        const v = Math.random();
        const z = Math.sqrt(-2.0 * Math.log(u)) * Math.cos(2.0 * Math.PI * v);
        const noise = z * stdDev;
        return { x: point.x, y: point.y + noise };
    });
}


const static_noiseless_train = [
    {
        "x": 0.48912334829082704,
        "y": 0.8861714947114517
    },
    {
        "x": -1.1563893929822844,
        "y": 1.6924501969219348
    },
    {
        "x": 0.9499326171034044,
        "y": -0.11418771787890503
    },
    {
        "x": 1.615111556688051,
        "y": -1.1864532670119114
    },
    {
        "x": 1.2994835539493028,
        "y": -1.1471437111752065
    },
    {
        "x": 1.453483539535343,
        "y": -1.3666853280256146
    },
    {
        "x": -0.2718971358383122,
        "y": 0.7634921105771152
    },
    {
        "x": -0.8130831859686167,
        "y": 1.0197514919840893
    },
    {
        "x": -0.3879607873606954,
        "y": 0.7307746594967137
    },
    {
        "x": 0.8836076638019152,
        "y": 0.0839499290319855
    },
    {
        "x": -1.1600022718463516,
        "y": 1.6999525377689353
    },
    {
        "x": 1.8001129598908578,
        "y": -0.12217889856272746
    },
    {
        "x": -0.8475906565510787,
        "y": 1.074859340847783
    },
    {
        "x": -0.07951652982271096,
        "y": 0.8698506944788119
    },
    {
        "x": -1.4587359101557467,
        "y": 2.1013507966526284
    },
    {
        "x": -1.9398215495386006,
        "y": -0.46650313528170595
    },
    {
        "x": -1.5264853253910267,
        "y": 2.0735083762047086
    },
    {
        "x": -1.8292722264678742,
        "y": 0.7572542681824141
    },
    {
        "x": -1.5063514500735073,
        "y": 2.088877184794873
    },
    {
        "x": -1.8475450934266542,
        "y": 0.5896342838499808
    },
    {
        "x": -1.2687338728339497,
        "y": 1.9090475931079003
    },
    {
        "x": 0.37092003355765657,
        "y": 0.9764422847818427
    },
    {
        "x": -0.7250128222437877,
        "y": 0.8996843302094282
    },
    {
        "x": 0.0706998158893608,
        "y": 0.9558296251128795
    },
    {
        "x": -0.6819717860361445,
        "y": 0.8524586348512163
    },
    {
        "x": -0.33993829249219143,
        "y": 0.7400585222651456
    },
    {
        "x": -0.3470638549384848,
        "y": 0.7382696487787785
    },
    {
        "x": 0.1499722198269402,
        "y": 0.9878342974722936
    },
    {
        "x": -1.1802821976116293,
        "y": 1.7416053943692869
    },
    {
        "x": 1.4591600309202737,
        "y": -1.368797720817689
    },
    {
        "x": 1.1997237910733136,
        "y": -0.8892084929429986
    },
    {
        "x": -0.6260098102076519,
        "y": 0.8026691167178495
    },
    {
        "x": 1.5352499362122582,
        "y": -1.3428503039349198
    },
    {
        "x": 1.6731793260839871,
        "y": -0.9706900657766602
    },
    {
        "x": 0.5063784890540872,
        "y": 0.8672492010173253
    },
    {
        "x": 0.24079120919412667,
        "y": 1.0042558469947787
    },
    {
        "x": -0.05459531489725977,
        "y": 0.885211464818344
    },
    {
        "x": -1.4515505713557277,
        "y": 2.100571406394206
    },
    {
        "x": 0.4305142240331543,
        "y": 0.9393287977488116
    },
    {
        "x": 0.2782588775363046,
        "y": 1.003091646262008
    },
    {
        "x": 1.07311048904851,
        "y": -0.5019102524808323
    },
    {
        "x": 1.3999135736024848,
        "y": -1.3230976574309046
    },
    {
        "x": -0.43072820947404455,
        "y": 0.7284213913995072
    },
    {
        "x": -0.20263871747407114,
        "y": 0.7969764775721567
    },
    {
        "x": 1.1258358348040778,
        "y": -0.6676311449153325
    },
    {
        "x": -1.6130515862471153,
        "y": 1.9260432269502945
    },
    {
        "x": -0.2287513584435077,
        "y": 0.783418157907481
    },
    {
        "x": -0.7027577262356139,
        "y": 0.8743019280500829
    },
    {
        "x": -1.3754815950366601,
        "y": 2.05615127055418
    },
    {
        "x": 1.7539579956718114,
        "y": -0.49749356686516766
    }
]

const static_noiseless_test = [
    {
        "x": -0.1650862613914712,
        "y": 0.8180103160769097
    },
    {
        "x": -0.7566671301951877,
        "y": 0.9392919142196149
    },
    {
        "x": 1.904751773869588,
        "y": 1.0651300353213715
    },
    {
        "x": 1.6384264733057,
        "y": -1.1111319784423102
    },
    {
        "x": 1.8876547023706642,
        "y": 0.8360788707266962
    },
    {
        "x": -1.35285652640483,
        "y": 2.031954949307889
    },
    {
        "x": 0.9180912497997449,
        "y": -0.017615288540130836
    },
    {
        "x": -0.132116430389841,
        "y": 0.837566267834212
    },
    {
        "x": -1.8174274177810248,
        "y": 0.8592153088087413
    },
    {
        "x": -1.4393385808955905,
        "y": 2.0977762975061554
    },
    {
        "x": -1.5693245920102612,
        "y": 2.018164814642475
    },
    {
        "x": -0.7526380059856472,
        "y": 0.9340246456596836
    },
    {
        "x": 0.3194636436385254,
        "y": 0.9956401619174534
    },
    {
        "x": 0.02121721729482573,
        "y": 0.9299742110130811
    },
    {
        "x": 1.2691173885283353,
        "y": -1.0754819997995146
    },
    {
        "x": -0.31791422716320605,
        "y": 0.7464296673444297
    },
    {
        "x": -0.5542256376666961,
        "y": 0.7579336886259039
    },
    {
        "x": 1.4920463577261134,
        "y": -1.3705078611996329
    },
    {
        "x": -1.0182925175665476,
        "y": 1.3998943872135103
    },
    {
        "x": 1.29997954992991,
        "y": -1.1482542555533763
    },
    {
        "x": -0.229163467113632,
        "y": 0.7832124379442165
    },
    {
        "x": -1.6234953551276865,
        "y": 1.8981663985665032
    },
    {
        "x": -1.6074581876976182,
        "y": 1.940006574488578
    },
    {
        "x": -0.8157260689130013,
        "y": 1.0238191523457463
    },
    {
        "x": -1.7976817922041595,
        "y": 1.017918838996683
    },
    {
        "x": -1.6177396520847283,
        "y": 1.9138234103551572
    },
    {
        "x": 0.13157644678926816,
        "y": 0.9816643992350205
    },
    {
        "x": -1.54160118277711,
        "y": 2.057634911539652
    },
    {
        "x": -1.7653379876690254,
        "y": 1.2489118560105588
    },
    {
        "x": 1.7723701427956966,
        "y": -0.35763801290218966
    },
    {
        "x": -1.6767017541074178,
        "y": 1.7171300368719828
    },
    {
        "x": 1.5738904082817053,
        "y": -1.2856481345660122
    },
    {
        "x": 1.4968492908988429,
        "y": -1.3691796977816004
    },
    {
        "x": 1.3326885550116723,
        "y": -1.2167467705202966
    },
    {
        "x": -1.3940311020945466,
        "y": 2.0725506668720834
    },
    {
        "x": -0.41865395979351616,
        "y": 0.7284840849632968
    },
    {
        "x": 0.4904380818723335,
        "y": 0.8847828183798465
    },
    {
        "x": 1.0333276145679542,
        "y": -0.3755476861944913
    },
    {
        "x": 1.9293585657302037,
        "y": 1.4210186092989203
    },
    {
        "x": 1.8434459799159542,
        "y": 0.30918282248896434
    },
    {
        "x": 1.4461497824959304,
        "y": -1.3632052512477801
    },
    {
        "x": -1.8315491639248496,
        "y": 0.7370581894012769
    },
    {
        "x": 0.6339843679103256,
        "y": 0.6797630056598416
    },
    {
        "x": 0.04955121283336883,
        "y": 0.9452214384508377
    },
    {
        "x": 0.8229183505343891,
        "y": 0.2532674526305363
    },
    {
        "x": 0.5916704993914883,
        "y": 0.751264213512024
    },
    {
        "x": 1.4924794899672884,
        "y": -1.3704051983184051
    },
    {
        "x": 0.1548822800009968,
        "y": 0.9893356898327087
    },
    {
        "x": 0.8046360421950789,
        "y": 0.3015676657473594
    },
    {
        "x": -0.2501772072907178,
        "y": 0.7730996643215562
    }
]

const static_noisy_train = [
    {
        "x": 0.48912334829082704,
        "y": 0.7526518881007896
    },
    {
        "x": -1.1563893929822844,
        "y": 1.3036027173436582
    },
    {
        "x": 0.9499326171034044,
        "y": -0.0000796953273847073
    },
    {
        "x": 1.615111556688051,
        "y": -1.3289403614996906
    },
    {
        "x": 1.2994835539493028,
        "y": -1.1115263679628191
    },
    {
        "x": 1.453483539535343,
        "y": -1.3759459244487717
    },
    {
        "x": -0.2718971358383122,
        "y": 0.7549863227434069
    },
    {
        "x": -0.8130831859686167,
        "y": 1.2351351104455974
    },
    {
        "x": -0.3879607873606954,
        "y": 0.9109582725600283
    },
    {
        "x": 0.8836076638019152,
        "y": 0.32097547064652265
    },
    {
        "x": -1.1600022718463516,
        "y": 1.7145686530783353
    },
    {
        "x": 1.8001129598908578,
        "y": 0.12637725150747625
    },
    {
        "x": -0.8475906565510787,
        "y": 1.048986769378086
    },
    {
        "x": -0.07951652982271096,
        "y": 1.094551971929636
    },
    {
        "x": -1.4587359101557467,
        "y": 1.783572232380593
    },
    {
        "x": -1.9398215495386006,
        "y": -0.430143355917579
    },
    {
        "x": -1.5264853253910267,
        "y": 2.1956942090123204
    },
    {
        "x": -1.8292722264678742,
        "y": 0.6105432230011718
    },
    {
        "x": -1.5063514500735073,
        "y": 1.8599417668435354
    },
    {
        "x": -1.8475450934266542,
        "y": 0.5521053154353295
    },
    {
        "x": -1.2687338728339497,
        "y": 1.9310094832979119
    },
    {
        "x": 0.37092003355765657,
        "y": 1.10005631632562
    },
    {
        "x": -0.7250128222437877,
        "y": 0.9388280710284275
    },
    {
        "x": 0.0706998158893608,
        "y": 1.0506463049229864
    },
    {
        "x": -0.6819717860361445,
        "y": 0.7669820249472757
    },
    {
        "x": -0.33993829249219143,
        "y": 0.7716863420845099
    },
    {
        "x": -0.3470638549384848,
        "y": 0.8546897813518417
    },
    {
        "x": 0.1499722198269402,
        "y": 1.4234881344507906
    },
    {
        "x": -1.1802821976116293,
        "y": 1.2969227383381443
    },
    {
        "x": 1.4591600309202737,
        "y": -1.8002223073839352
    },
    {
        "x": 1.1997237910733136,
        "y": -0.8129048586234863
    },
    {
        "x": -0.6260098102076519,
        "y": 0.7791831319063666
    },
    {
        "x": 1.5352499362122582,
        "y": -1.3810682101299634
    },
    {
        "x": 1.6731793260839871,
        "y": -0.8759453112321223
    },
    {
        "x": 0.5063784890540872,
        "y": 0.6654185217765931
    },
    {
        "x": 0.24079120919412667,
        "y": 1.2868913108165712
    },
    {
        "x": -0.05459531489725977,
        "y": 1.0030101079539984
    },
    {
        "x": -1.4515505713557277,
        "y": 2.2145918243292075
    },
    {
        "x": 0.4305142240331543,
        "y": 0.6714328430184371
    },
    {
        "x": 0.2782588775363046,
        "y": 1.1146084170551205
    },
    {
        "x": 1.07311048904851,
        "y": -0.6073940429840156
    },
    {
        "x": 1.3999135736024848,
        "y": -1.5719737836450984
    },
    {
        "x": -0.43072820947404455,
        "y": 1.1737378376990293
    },
    {
        "x": -0.20263871747407114,
        "y": 0.7162665243252212
    },
    {
        "x": 1.1258358348040778,
        "y": -0.13340266511199916
    },
    {
        "x": -1.6130515862471153,
        "y": 2.234106338376472
    },
    {
        "x": -0.2287513584435077,
        "y": 1.0447392274635936
    },
    {
        "x": -0.7027577262356139,
        "y": 0.9498175508844018
    },
    {
        "x": -1.3754815950366601,
        "y": 1.8886016370868062
    },
    {
        "x": 1.7539579956718114,
        "y": -0.2937654532155673
    }
]

const static_noisy_test = [
    {
        "x": 1.9293585657302037,
        "y": 1.1915906034662234
    },
    {
        "x": -1.8315491639248496,
        "y": 0.985524744718606
    },
    {
        "x": -1.0182925175665476,
        "y": 1.2473225098391765
    },
    {
        "x": 1.4461497824959304,
        "y": -1.6060150945875822
    },
    {
        "x": -1.54160118277711,
        "y": 2.181226826927863
    },
    {
        "x": -1.6074581876976182,
        "y": 2.1329968730098443
    },
    {
        "x": -1.7976817922041595,
        "y": 1.1855197525395287
    },
    {
        "x": -1.6177396520847283,
        "y": 2.074098962187822
    },
    {
        "x": -1.4393385808955905,
        "y": 1.9387175839876973
    },
    {
        "x": 0.02121721729482573,
        "y": 0.8227820449097656
    },
    {
        "x": 1.3326885550116723,
        "y": -1.3309764768170342
    },
    {
        "x": 1.4968492908988429,
        "y": -1.42716681741679
    },
    {
        "x": 1.8876547023706642,
        "y": 0.6594137787104045
    },
    {
        "x": 0.1548822800009968,
        "y": 0.9243783987191208
    },
    {
        "x": -0.1650862613914712,
        "y": 0.8430024687539645
    },
    {
        "x": -0.7526380059856472,
        "y": 0.857126074755439
    },
    {
        "x": -0.8157260689130013,
        "y": 1.0682145430943695
    },
    {
        "x": 1.904751773869588,
        "y": 1.4217087687770797
    },
    {
        "x": 1.6384264733057,
        "y": -0.9352579577053018
    },
    {
        "x": -0.229163467113632,
        "y": 0.13423532601110466
    },
    {
        "x": 1.8434459799159542,
        "y": 0.10648792012078226
    },
    {
        "x": -1.6767017541074178,
        "y": 1.7169537067353973
    },
    {
        "x": -0.31791422716320605,
        "y": 0.4181502033162715
    },
    {
        "x": -1.8174274177810248,
        "y": 0.768823403173329
    },
    {
        "x": -1.6234953551276865,
        "y": 1.7618067650354625
    },
    {
        "x": -1.35285652640483,
        "y": 2.148742539505184
    },
    {
        "x": -0.2501772072907178,
        "y": 1.0921896699112024
    },
    {
        "x": 0.13157644678926816,
        "y": 1.281879106938491
    },
    {
        "x": -1.7653379876690254,
        "y": 0.9102138545791275
    },
    {
        "x": 1.4924794899672884,
        "y": -1.4483331804748198
    },
    {
        "x": -1.5693245920102612,
        "y": 2.01171346904703
    },
    {
        "x": -1.3940311020945466,
        "y": 2.0268088519839895
    },
    {
        "x": 0.6339843679103256,
        "y": 0.7421561542216435
    },
    {
        "x": 1.5738904082817053,
        "y": -1.2471411001474457
    },
    {
        "x": -0.7566671301951877,
        "y": 1.1303065175998408
    },
    {
        "x": 0.4904380818723335,
        "y": 1.0703095265070028
    },
    {
        "x": 1.0333276145679542,
        "y": -0.41546313261863255
    },
    {
        "x": 0.5916704993914883,
        "y": 0.6010367392353003
    },
    {
        "x": -0.41865395979351616,
        "y": 0.8132563917255909
    },
    {
        "x": 1.2691173885283353,
        "y": -1.0495333439367467
    },
    {
        "x": -0.132116430389841,
        "y": 0.8110308305833827
    },
    {
        "x": 0.8046360421950789,
        "y": 0.5222258714094083
    },
    {
        "x": -0.5542256376666961,
        "y": 0.5387550017838336
    },
    {
        "x": 0.04955121283336883,
        "y": 0.855402525596517
    },
    {
        "x": 1.4920463577261134,
        "y": -1.0384977328614686
    },
    {
        "x": 0.9180912497997449,
        "y": -0.15265751164616137
    },
    {
        "x": 1.29997954992991,
        "y": -1.0907638137738562
    },
    {
        "x": 0.8229183505343891,
        "y": 0.21860091611570676
    },
    {
        "x": 1.7723701427956966,
        "y": -0.4807254848575913
    },
    {
        "x": 0.3194636436385254,
        "y": 0.9808096611017966
    }
]
